import { Callout } from "nextra-theme-docs"
import ListParam from "../../../components/list-params.js"

## REST API | Akun

## Ganti foto profile

```url
[POST] https://spesana24b.vercel.app/api/akun/profile
Max Sizefile Upload: 16Mb
```

<ListParam
  title="Body"
  data={[
    {
      name: "typefile",
      typeOf: "string",
      require: true,
      desc: "Digunakan untuk mevalidasi extension files, file yang diunggah hanya 'JPEG' atau 'JPG' "
    },
    {
      name: "content",
      typeOf: "string / base64",
      require: true,
      desc: "Digunakan untuk menunggah gambar yang diinginkan"
    }
  ]}
/>

```js
// Jika menggunakan modules
const { session, initSetup } = require("@spesana24b/app")

const app = new initSetup({
  // Disarankan system harus bisa baca tulis !
  auth: session("./my-key-tokens.json")
})

async function GantiFoto(params) {
  const details = await app.akun.profile({
    pp: "./muka-saya.jpg"
  })
  
  console.log(details)
}
GantiFoto()
```

<Callout type="success">
  Hasil data yang diberikan
</Callout>

```json
{
  "status": 200,
  "data": {
    "isSuccess": true,
    "being.update": "profile_picture",
    "student": {
      "fullname": "Maulana",
      "number": 16
    },
    "new_session": "U2FsdGVkX1/sEBRBh+oh3uUYWIAHYXxrhQyMMlLU3an42CWdZHsGZnL+NFDc/1j........."
  }
}
```

## Ganti nama

```url
[POST] https://spesana24b.vercel.app/api/akun/profile
```

<ListParam
  title="Body"
  data={[
    {
      name: "name_public",
      typeOf: "string",
      require: true,
      desc: "Digunakan untuk menganti nama sebelummnya"
    },
  ]}
/>

```js
// Jika menggunakan modules
const { session, initSetup } = require("@spesana24b/app")

const app = new initSetup({
  // Disarankan system harus bisa baca tulis !
  auth: session("./my-key-tokens.json")
})

async function GantiNama(params) {
  const details = await app.akun.profile({
    name_public: "Muhammad Maulana"
  })
  
  console.log(details)
}
GantiNama()
```

<Callout type="success">
  Hasil data yang diberikan
</Callout>

```json
{
  "status": 200,
  "data": {
    "isSuccess": true,
    "being.update": "name_public",
    "changed": {
      "before": "Maulana",
      "after": "Muhammad Maulana"
    },
    "student": {
      "fullname": "Maulana",
      "number": 16
    },
    "new_session": "U2FsdGVkX18cDa+BBd3Ktt0ZnUfngC+tuI8Halp07LSoZdA4HJIZD9RGlI8BOYVko/........."
  }
}
```

## Posting gallery

### Single post

```url
[PUT] https://spesana24b.vercel.app/api/akun/gallery
Max Sizefile Upload: 16Mb
```

<ListParam
  title="Body"
  data={[
    {
      name: "typefile",
      typeOf: "string",
      require: true,
      desc: "Digunakan untuk mevalidasi extension files"
    },
    {
      name: "content",
      typeOf: "string / base64",
      require: true,
      desc: "Digunakan untuk menunggah file yang diinginkan"
    }
  ]}
/>

```js
// Jika menggunakan modules
const { session, initSetup } = require("@spesana24b/app")

const app = new initSetup({
  // Disarankan system harus bisa baca tulis !
  auth: session("./my-key-tokens.json")
})

async function UploadGambar(params) {
  const details = await app.akun.uploadgallery_single({
    files: "./my-school-picture.jpg"
  })
  
  console.log(details)
}
UploadGambar()
```

<Callout type="success">
  Hasil data yang diberikan
</Callout>

```json
{
  "status": 200,
  "data": {
    "content": {
      "type": "image",
      "file": "88469180f17e054e460aa7e2396e3d907253a10e.jpg",
      "commit": "0a0ec636e4e07b24fd42c3b9e26dc78581ca233a",
    },
    "user": "*****",
    "user_id": "************",
    "new_session": "U2FsdGVkX19Ds6AHAfAbXrlm7+Wg+O+HP5rhwQ4913wfuxI/UQsJKA+UF/ua.........."
  }
}
```

### Multiple post

```url
[PUT] https://spesana24b.vercel.app/api/akun/gallery
Max Sizefile Upload: 32Mb
Max Array Upload: 5 File
```

<ListParam
  title="Body"
  data={[
    {
      name: "multi[i].typefile",
      typeOf: "string",
      require: true,
      desc: "Digunakan untuk mevalidasi extension files"
    },
    {
      name: "multi[i].content",
      typeOf: "string / base64",
      require: true,
      desc: "Digunakan untuk menunggah file yang diinginkan"
    }
  ]}
/>

<Callout type="error">
  Dalam mengupload secara lipat, tidak dapat mengupload video, hanya disarankan untuk gambar. <br />
  Jika bertanya apakah gif dapat diupload bersama foto, jawabannya tidak, hanya disarankan "JPEG", "PNG", dan "JPG"
</Callout>

```js
// Jika menggunakan modules
const { session, initSetup } = require("@spesana24b/app")

const app = new initSetup({
  // Disarankan system harus bisa baca tulis !
  auth: session("./my-key-tokens.json")
})

async function UploadGambarSemua(params) {
  const details = await app.akun.uploadgallery_multi({
    files: [
      "./foto-sekolah-saya.jpg",
      "./saya-dan-teman.jpeg",
      "./foto-saya-saat-kemah.png"
    ]
  })
  
  console.log(details)
}
UploadGambarSemua()
```

```json
{
  "status": 200,
  "data": {
    "content": [
      {
        "type": "image",
        "file": "slide-1a99eade26d9756b30d8580c14b594b0f178a277.jpg",
        "commit": "9aaea72a1bd55e58f225323ea6a239f510638095",
      },
      {
        "type": "image",
        "file": "slide-bdf5cb4ba4f25d082c2eb7020873789ed3e79fca.jpeg",
        "commit": "8e5bebe25b93dba5eca325c1a6bb7fcb5952299e",
      },
      {
        "type": "image",
        "file": "slide-8518ae007e78ad20d1051091ea3a49c498bf1fef.png",
        "commit": "663bfb62b61f7c537f966adc72b614959e74036c",
      },
    ],
    "user": "*****",
    "user_id": "************",
    "new_session": "U2FsdGVkX1+qzYdThJgbm4jaU40ymrEEtxwe7U3ItWBD9rn5VrRk9TkGh5SpIKJDgtaem18IIX+PyKe......"
  }
}
```